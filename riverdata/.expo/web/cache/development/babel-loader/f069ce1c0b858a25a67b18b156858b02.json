{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport GeoViewport from \"@mapbox/geo-viewport\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nvar _Dimensions$get = Dimensions.get(\"window\"),\n  width = _Dimensions$get.width,\n  height = _Dimensions$get.height;\nexport var isMarker = function isMarker(child) {\n  return child && child.props && child.props.coordinate && child.props.cluster !== false;\n};\nexport var calculateBBox = function calculateBBox(region) {\n  var lngD;\n  if (region.longitudeDelta < 0) lngD = region.longitudeDelta + 360;else lngD = region.longitudeDelta;\n  return [region.longitude - lngD,\n  region.latitude - region.latitudeDelta,\n  region.longitude + lngD,\n  region.latitude + region.latitudeDelta];\n};\n\nexport var returnMapZoom = function returnMapZoom(region, bBox, minZoom) {\n  var viewport = region.longitudeDelta >= 40 ? {\n    zoom: minZoom\n  } : GeoViewport.viewport(bBox, [width, height]);\n  return viewport.zoom;\n};\nexport var markerToGeoJSONFeature = function markerToGeoJSONFeature(marker, index) {\n  return {\n    type: \"Feature\",\n    geometry: {\n      coordinates: [marker.props.coordinate.longitude, marker.props.coordinate.latitude],\n      type: \"Point\"\n    },\n    properties: _objectSpread({\n      point_count: 0,\n      index: index\n    }, _removeChildrenFromProps(marker.props))\n  };\n};\nexport var generateSpiral = function generateSpiral(marker, clusterChildren, markers, index) {\n  var properties = marker.properties,\n    geometry = marker.geometry;\n  var count = properties.point_count;\n  var centerLocation = geometry.coordinates;\n  var res = [];\n  var angle = 0;\n  var start = 0;\n  for (var i = 0; i < index; i++) {\n    start += markers[i].properties.point_count || 0;\n  }\n  for (var _i = 0; _i < count; _i++) {\n    angle = 0.25 * (_i * 0.5);\n    var latitude = centerLocation[1] + 0.0002 * angle * Math.cos(angle);\n    var longitude = centerLocation[0] + 0.0002 * angle * Math.sin(angle);\n    if (clusterChildren[_i + start]) {\n      res.push({\n        index: clusterChildren[_i + start].properties.index,\n        longitude: longitude,\n        latitude: latitude,\n        centerPoint: {\n          latitude: centerLocation[1],\n          longitude: centerLocation[0]\n        }\n      });\n    }\n  }\n  return res;\n};\nexport var returnMarkerStyle = function returnMarkerStyle(points) {\n  if (points >= 50) {\n    return {\n      width: 84,\n      height: 84,\n      size: 64,\n      fontSize: 20\n    };\n  }\n  if (points >= 25) {\n    return {\n      width: 78,\n      height: 78,\n      size: 58,\n      fontSize: 19\n    };\n  }\n  if (points >= 15) {\n    return {\n      width: 72,\n      height: 72,\n      size: 54,\n      fontSize: 18\n    };\n  }\n  if (points >= 10) {\n    return {\n      width: 66,\n      height: 66,\n      size: 50,\n      fontSize: 17\n    };\n  }\n  if (points >= 8) {\n    return {\n      width: 60,\n      height: 60,\n      size: 46,\n      fontSize: 17\n    };\n  }\n  if (points >= 4) {\n    return {\n      width: 54,\n      height: 54,\n      size: 40,\n      fontSize: 16\n    };\n  }\n  return {\n    width: 48,\n    height: 48,\n    size: 36,\n    fontSize: 15\n  };\n};\nvar _removeChildrenFromProps = function _removeChildrenFromProps(props) {\n  var newProps = {};\n  Object.keys(props).forEach(function (key) {\n    if (key !== \"children\") {\n      newProps[key] = props[key];\n    }\n  });\n  return newProps;\n};","map":{"version":3,"names":["GeoViewport","Dimensions","get","width","height","isMarker","child","props","coordinate","cluster","calculateBBox","region","lngD","longitudeDelta","longitude","latitude","latitudeDelta","returnMapZoom","bBox","minZoom","viewport","zoom","markerToGeoJSONFeature","marker","index","type","geometry","coordinates","properties","point_count","_removeChildrenFromProps","generateSpiral","clusterChildren","markers","count","centerLocation","res","angle","start","i","Math","cos","sin","push","centerPoint","returnMarkerStyle","points","size","fontSize","newProps","Object","keys","forEach","key"],"sources":["C:/Users/subte/RD2/riverdata/riverdata/node_modules/react-native-map-clustering/lib/helpers.js"],"sourcesContent":["import GeoViewport from \"@mapbox/geo-viewport\";\nimport { Dimensions } from \"react-native\";\n\nconst { width, height } = Dimensions.get(\"window\");\n\nexport const isMarker = (child) =>\n  child &&\n  child.props &&\n  child.props.coordinate &&\n  child.props.cluster !== false;\n\nexport const calculateBBox = (region) => {\n  let lngD;\n  if (region.longitudeDelta < 0) lngD = region.longitudeDelta + 360;\n  else lngD = region.longitudeDelta;\n\n  return [\n    region.longitude - lngD, // westLng - min lng\n    region.latitude - region.latitudeDelta, // southLat - min lat\n    region.longitude + lngD, // eastLng - max lng\n    region.latitude + region.latitudeDelta, // northLat - max lat\n  ];\n};\n\nexport const returnMapZoom = (region, bBox, minZoom) => {\n  const viewport =\n    region.longitudeDelta >= 40\n      ? { zoom: minZoom }\n      : GeoViewport.viewport(bBox, [width, height]);\n\n  return viewport.zoom;\n};\n\nexport const markerToGeoJSONFeature = (marker, index) => {\n  return {\n    type: \"Feature\",\n    geometry: {\n      coordinates: [\n        marker.props.coordinate.longitude,\n        marker.props.coordinate.latitude,\n      ],\n      type: \"Point\",\n    },\n    properties: {\n      point_count: 0,\n      index,\n      ..._removeChildrenFromProps(marker.props),\n    },\n  };\n};\n\nexport const generateSpiral = (marker, clusterChildren, markers, index) => {\n  const { properties, geometry } = marker;\n  const count = properties.point_count;\n  const centerLocation = geometry.coordinates;\n\n  let res = [];\n  let angle = 0;\n  let start = 0;\n\n  for (let i = 0; i < index; i++) {\n    start += markers[i].properties.point_count || 0;\n  }\n\n  for (let i = 0; i < count; i++) {\n    angle = 0.25 * (i * 0.5);\n    let latitude = centerLocation[1] + 0.0002 * angle * Math.cos(angle);\n    let longitude = centerLocation[0] + 0.0002 * angle * Math.sin(angle);\n\n    if (clusterChildren[i + start]) {\n      res.push({\n        index: clusterChildren[i + start].properties.index,\n        longitude,\n        latitude,\n        centerPoint: {\n          latitude: centerLocation[1],\n          longitude: centerLocation[0],\n        },\n      });\n    }\n  }\n\n  return res;\n};\n\nexport const returnMarkerStyle = (points) => {\n  if (points >= 50) {\n    return {\n      width: 84,\n      height: 84,\n      size: 64,\n      fontSize: 20,\n    };\n  }\n\n  if (points >= 25) {\n    return {\n      width: 78,\n      height: 78,\n      size: 58,\n      fontSize: 19,\n    };\n  }\n\n  if (points >= 15) {\n    return {\n      width: 72,\n      height: 72,\n      size: 54,\n      fontSize: 18,\n    };\n  }\n\n  if (points >= 10) {\n    return {\n      width: 66,\n      height: 66,\n      size: 50,\n      fontSize: 17,\n    };\n  }\n\n  if (points >= 8) {\n    return {\n      width: 60,\n      height: 60,\n      size: 46,\n      fontSize: 17,\n    };\n  }\n\n  if (points >= 4) {\n    return {\n      width: 54,\n      height: 54,\n      size: 40,\n      fontSize: 16,\n    };\n  }\n\n  return {\n    width: 48,\n    height: 48,\n    size: 36,\n    fontSize: 15,\n  };\n};\n\nconst _removeChildrenFromProps = (props) => {\n  const newProps = {};\n  Object.keys(props).forEach((key) => {\n    if (key !== \"children\") {\n      newProps[key] = props[key];\n    }\n  });\n  return newProps;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}