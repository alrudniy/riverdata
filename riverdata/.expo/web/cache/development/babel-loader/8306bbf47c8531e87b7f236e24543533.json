{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { WebView } from 'react-native-webview';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar RDGaugeGraphScreen = function RDGaugeGraphScreen(_ref) {\n  var route = _ref.route;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoading = _useState2[0],\n    setIsLoading = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    err = _useState4[0],\n    setErr = _useState4[1];\n  var _route$params = route.params,\n    gaugeId = _route$params.gaugeId,\n    parameterCode = _route$params.parameterCode;\n  useEffect(function () {\n    setIsLoading(true);\n  }, []);\n  var onLoad = function onLoad() {\n    setIsLoading(false);\n  };\n  var onError = function onError() {\n    setErr('An error occurred while loading the graph.');\n    setIsLoading(false);\n  };\n  var url = \"http://waterdata.usgs.gov/nwisweb/graph?agency_cd=USGS&site_no=\" + gaugeId + \"&parm_cd=\" + parameterCode + \"&period=7\";\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [isLoading && _jsx(ActivityIndicator, {\n      size: \"large\"\n    }), err ? _jsx(Text, {\n      children: err\n    }) : _jsx(WebView, {\n      source: {\n        uri: url\n      },\n      onLoad: onLoad,\n      onError: onError,\n      javaScriptEnabled: true,\n      style: {\n        flex: 1\n      }\n    })]\n  });\n};\nexport default RDGaugeGraphScreen;","map":{"version":3,"names":["React","useState","useEffect","WebView","RDGaugeGraphScreen","route","isLoading","setIsLoading","err","setErr","params","gaugeId","parameterCode","onLoad","onError","url","flex","uri"],"sources":["C:/Users/subte/RD2/riverdata/riverdata/components/RDGaugeGraph.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, ActivityIndicator } from 'react-native';\r\nimport { WebView } from 'react-native-webview';\r\n\r\nconst RDGaugeGraphScreen = ({ route }) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [err, setErr] = useState('');\r\n  const { gaugeId, parameterCode } = route.params;\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n  }, []);\r\n\r\n  const onLoad = () => {\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const onError = () => {\r\n    setErr('An error occurred while loading the graph.');\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const url = `http://waterdata.usgs.gov/nwisweb/graph?agency_cd=USGS&site_no=${gaugeId}&parm_cd=${parameterCode}&period=7`;\r\n\r\n  return (\r\n    <View style={{ flex: 1 }}>\r\n      {isLoading && <ActivityIndicator size=\"large\" />}\r\n      {err ? (\r\n        <Text>{err}</Text>\r\n      ) : (\r\n        <WebView\r\n          source={{ uri: url }}\r\n          onLoad={onLoad}\r\n          onError={onError}\r\n          javaScriptEnabled={true}\r\n          style={{ flex: 1 }}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default RDGaugeGraphScreen;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAEnD,SAASC,OAAO,QAAQ,sBAAsB;AAAC;AAAA;AAE/C,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkB,OAAkB;EAAA,IAAZC,KAAK,QAALA,KAAK;EACjC,gBAAkCJ,QAAQ,CAAC,KAAK,CAAC;IAAA;IAA1CK,SAAS;IAAEC,YAAY;EAC9B,iBAAsBN,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA3BO,GAAG;IAAEC,MAAM;EAClB,oBAAmCJ,KAAK,CAACK,MAAM;IAAvCC,OAAO,iBAAPA,OAAO;IAAEC,aAAa,iBAAbA,aAAa;EAE9BV,SAAS,CAAC,YAAM;IACdK,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMM,MAAM,GAAG,SAATA,MAAM,GAAS;IACnBN,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,IAAMO,OAAO,GAAG,SAAVA,OAAO,GAAS;IACpBL,MAAM,CAAC,4CAA4C,CAAC;IACpDF,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,IAAMQ,GAAG,uEAAqEJ,OAAO,iBAAYC,aAAa,cAAW;EAEzH,OACE,MAAC,IAAI;IAAC,KAAK,EAAE;MAAEI,IAAI,EAAE;IAAE,CAAE;IAAA,WACtBV,SAAS,IAAI,KAAC,iBAAiB;MAAC,IAAI,EAAC;IAAO,EAAG,EAC/CE,GAAG,GACF,KAAC,IAAI;MAAA,UAAEA;IAAG,EAAQ,GAElB,KAAC,OAAO;MACN,MAAM,EAAE;QAAES,GAAG,EAAEF;MAAI,CAAE;MACrB,MAAM,EAAEF,MAAO;MACf,OAAO,EAAEC,OAAQ;MACjB,iBAAiB,EAAE,IAAK;MACxB,KAAK,EAAE;QAAEE,IAAI,EAAE;MAAE;IAAE,EAEtB;EAAA,EACI;AAEX,CAAC;AAED,eAAeZ,kBAAkB"},"metadata":{},"sourceType":"module"}